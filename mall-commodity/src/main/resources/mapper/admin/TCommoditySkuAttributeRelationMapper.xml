<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="pers.candyboyou.commodity.business.mapper.admin.TCommoditySkuAttributeRelationMapper">

    <insert id="batchInsertSkuAttribute">
        INSERT INTO
            t_commodity_sku_attribute_relation
            (sku_id, attribute_id, attribute_value_id, attribute_value)
        VALUES
            <foreach collection="params" item="param" open="(" separator="," close=")">
              (
               #{param.skuId}, #{param.attributeId}, #{param.attributeValueId}, #{param.attributeValue}
                )
            </foreach>
    </insert>

    <select id="selectAttributesOfSkuBySkuIds"
            resultType="pers.candyboyou.commodity.business.model.dto.SkuAttributeRelationDTO">
        SELECT
            attribute_id attributeId,
            attribute_value_id valueId
        FROM
            t_commodity_sku_attribute_relation
        WHERE
            is_valid = 1
          AND
            sku_id
            IN
            <foreach collection="skuIds" item="skuId" open="(" separator="," close="">
                #{skuId}
            </foreach>
    </select>

</mapper>